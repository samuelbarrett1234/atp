<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>atp: atp::core::SimpleScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">atp
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">An automated theorem prover in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceatp.html">atp</a></li><li class="navelem"><a class="el" href="namespaceatp_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classatp_1_1core_1_1_simple_scheduler.html">SimpleScheduler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classatp_1_1core_1_1_simple_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">atp::core::SimpleScheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SimpleScheduler.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for atp::core::SimpleScheduler:</div>
<div class="dyncontent">
<div class="center"><img src="classatp_1_1core_1_1_simple_scheduler__inherit__graph.png" border="0" usemap="#atp_1_1core_1_1_simple_scheduler_inherit__map" alt="Inheritance graph"/></div>
<map name="atp_1_1core_1_1_simple_scheduler_inherit__map" id="atp_1_1core_1_1_simple_scheduler_inherit__map">
<area shape="rect" title=" " alt="" coords="5,80,184,107"/>
<area shape="rect" href="classatp_1_1core_1_1_i_scheduler.html" title="A scheduler is responsible for periodically adding tasks to the process queue, to ensure that all the..." alt="" coords="23,5,166,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for atp::core::SimpleScheduler:</div>
<div class="dyncontent">
<div class="center"><img src="classatp_1_1core_1_1_simple_scheduler__coll__graph.png" border="0" usemap="#atp_1_1core_1_1_simple_scheduler_coll__map" alt="Collaboration graph"/></div>
<map name="atp_1_1core_1_1_simple_scheduler_coll__map" id="atp_1_1core_1_1_simple_scheduler_coll__map">
<area shape="rect" title=" " alt="" coords="5,80,184,107"/>
<area shape="rect" href="classatp_1_1core_1_1_i_scheduler.html" title="A scheduler is responsible for periodically adding tasks to the process queue, to ensure that all the..." alt="" coords="23,5,166,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34a9f480099f7559fb523bf174f05016"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatp_1_1core_1_1_simple_scheduler.html#a34a9f480099f7559fb523bf174f05016">SimpleScheduler</a> (<a class="el" href="namespaceatp_1_1db.html#a42ba6845b48b4cd045fc2986534c03a1">db::DatabasePtr</a> p_db)</td></tr>
<tr class="separator:a34a9f480099f7559fb523bf174f05016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36543136ac9639b53042040ab32ec1c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatp_1_1core_1_1_simple_scheduler.html#a36543136ac9639b53042040ab32ec1c3">update</a> (std::list&lt; <a class="el" href="namespaceatp_1_1core.html#ad3b91b4cf86515382d748ac363a1c239">ProcessPtr</a> &gt; &amp;out_procs, size_t num_procs) override</td></tr>
<tr class="memdesc:a36543136ac9639b53042040ab32ec1c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add scheduling processes if necessary.  <a href="classatp_1_1core_1_1_simple_scheduler.html#a36543136ac9639b53042040ab32ec1c3">More...</a><br /></td></tr>
<tr class="separator:a36543136ac9639b53042040ab32ec1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4205126e5bb134d29d940987084d585"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatp_1_1core_1_1_simple_scheduler.html#ad4205126e5bb134d29d940987084d585">set_num_threads</a> (size_t nt) override</td></tr>
<tr class="memdesc:ad4205126e5bb134d29d940987084d585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate the number of threads that are currently being used to run processes.  <a href="classatp_1_1core_1_1_simple_scheduler.html#ad4205126e5bb134d29d940987084d585">More...</a><br /></td></tr>
<tr class="separator:ad4205126e5bb134d29d940987084d585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classatp_1_1core_1_1_i_scheduler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classatp_1_1core_1_1_i_scheduler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classatp_1_1core_1_1_i_scheduler.html">atp::core::IScheduler</a></td></tr>
<tr class="memitem:ab0b3699d31b9e4ccc05d2b026270f055 inherit pub_methods_classatp_1_1core_1_1_i_scheduler"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatp_1_1core_1_1_i_scheduler.html#ab0b3699d31b9e4ccc05d2b026270f055">~IScheduler</a> ()=default</td></tr>
<tr class="separator:ab0b3699d31b9e4ccc05d2b026270f055 inherit pub_methods_classatp_1_1core_1_1_i_scheduler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a34a9f480099f7559fb523bf174f05016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a9f480099f7559fb523bf174f05016">&#9670;&nbsp;</a></span>SimpleScheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atp::core::SimpleScheduler::SimpleScheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceatp_1_1db.html#a42ba6845b48b4cd045fc2986534c03a1">db::DatabasePtr</a>&#160;</td>
          <td class="paramname"><em>p_db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad4205126e5bb134d29d940987084d585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4205126e5bb134d29d940987084d585">&#9670;&nbsp;</a></span>set_num_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void atp::core::SimpleScheduler::set_num_threads </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate the number of threads that are currently being used to run processes. </p>
<p>This is used for calculation purposes only, so failing to keep this value up-to-date is not by any means fatal, but will mean the threads get more or less work than they should. The default (before you call this function) is 1.</p>
<dl class="section pre"><dt>Precondition</dt><dd>nt &gt; 0, because why would you ever use 0 worker threads yet still want to get work done? </dd></dl>

<p>Implements <a class="el" href="classatp_1_1core_1_1_i_scheduler.html#aa5a018d361c5fdb78730761134566921">atp::core::IScheduler</a>.</p>

</div>
</div>
<a id="a36543136ac9639b53042040ab32ec1c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36543136ac9639b53042040ab32ec1c3">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool atp::core::SimpleScheduler::update </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="namespaceatp_1_1core.html#ad3b91b4cf86515382d748ac363a1c239">ProcessPtr</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_procs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_procs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add scheduling processes if necessary. </p>
<p>You should call this function at fairly regular intervals, although not doing so is not that bad; it just means that as soon as you run out of work, this function will make sure you have work to do.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_procs</td><td>The place to put any new processes if the scheduler wishes.</td></tr>
    <tr><td class="paramname">num_procs</td><td>A count of the total number of processes currently present, so the scheduler can get an idea of how many more are needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if processes were added, false if nothing was added</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The scheduling process adds to the process queue by the time it finishes. Feel free to get rid of the scheduler once this has been called, as the scheduling process is given all the information it needs when it is constructed. This has the downside of not updating information (like the number of active threads) if it changes, but the scheduling process shouldn't be alive for long in real-time. </dd></dl>

<p>Implements <a class="el" href="classatp_1_1core_1_1_i_scheduler.html#ac710d5d549399d6ac1a0d24a49450397">atp::core::IScheduler</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classatp_1_1core_1_1_simple_scheduler_a36543136ac9639b53042040ab32ec1c3_cgraph.png" border="0" usemap="#classatp_1_1core_1_1_simple_scheduler_a36543136ac9639b53042040ab32ec1c3_cgraph" alt=""/></div>
<map name="classatp_1_1core_1_1_simple_scheduler_a36543136ac9639b53042040ab32ec1c3_cgraph" id="classatp_1_1core_1_1_simple_scheduler_a36543136ac9639b53042040ab32ec1c3_cgraph">
<area shape="rect" title="Add scheduling processes if necessary." alt="" coords="5,201,184,243"/>
<area shape="rect" href="namespaceatp_1_1core.html#a6862d165aec7b024c814742b0374dc18" title="Create a proof process which randomly selects the domain in which to prove." alt="" coords="232,201,381,243"/>
<area shape="rect" href="namespaceatp_1_1core.html#aafe2f9412bce7973267a7735bb16e763" title="This function creates a &quot;proof initialisation&quot; process, which creates the knowledge kernel,..." alt="" coords="441,5,593,47"/>
<area shape="rect" href="namespaceatp_1_1core.html#a347bdbab224f5b7453926bd292125a2d" title="This function creates a process which just runs the solver to completion." alt="" coords="446,71,589,112"/>
<area shape="rect" href="namespaceatp_1_1core.html#a1d7a30c723dce02909ce79d2a856c9fa" title="This function creates a process which saves proven theorems to the database." alt="" coords="442,136,593,177"/>
<area shape="rect" href="namespaceatp_1_1core.html#ae3836b024cffecfbd2225551f26d3794" title="Create a process which selects a context from the database (at random, basically) for which it would ..." alt="" coords="438,201,597,243"/>
<area shape="rect" href="namespaceatp_1_1core.html#a1695014c6de03b19f3a825381736e429" title="Create a process which selects search settings from the database (at random, basically) for which it ..." alt="" coords="438,267,597,308"/>
<area shape="rect" href="namespaceatp_1_1core.html#af2f2db5275692237d1dbb86b1c2b18d7" title="Create a process which loads a number of theorems into target_thms." alt="" coords="430,332,605,373"/>
<area shape="rect" href="namespaceatp_1_1core.html#a0e1be0ed1f37669605474bce0f0031b0" title=" " alt="" coords="429,398,605,425"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ATPCore/Scheduling/<a class="el" href="_simple_scheduler_8h.html">SimpleScheduler.h</a></li>
<li>ATPCore/Scheduling/<a class="el" href="_simple_scheduler_8cpp.html">SimpleScheduler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
