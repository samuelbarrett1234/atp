<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>atp: Solvers and Search Settings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">atp
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">An automated theorem prover in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Solvers and Search Settings </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md20"></a>
Search Settings File Format</h1>
<p>Search settings allow the user to choose a solver, and parameters for that solver, and save them into a persistent configuration file. The format is quite simple; there are some parameters which do not depend on the solver type, and some parameters depend on the type of solver.</p>
<p>The following settings are universal (independent of solver type): </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot; : &quot;Limited Iterative-Deepening Solver&quot;,</div>
<div class="line">    &quot;desc&quot; : &quot;An uninformed iterative deepening solver with low depth settings&quot;,</div>
<div class="line">    &quot;step-size&quot; : 1000,</div>
<div class="line">    &quot;max-steps&quot; : 10,</div>
<div class="line">    &quot;seed&quot; : &quot;time&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p><code>step-size</code> is the number of expansions to perform (on each target proof) at each iteration. <code>max-steps</code> is the maximum number of updates to perform, although the target statements may be proven earlier than this. Note that all of the above fields are optional (i.e. have default values).</p>
<p><code>no-repeats</code> is a flag indicating whether the search algorithm should avoid repeated states while searching. The benefit of this flag depends on the tradeoff between state space size, and time required to check for repeats. <code>randomised</code> is a flag telling the search to try to evaluate successors in a random order.</p>
<p><code>seed</code> is the seed value used for a random number generator. You can either set this equal to the string <code>"time"</code>, which seeds it based on the current clock time when the program is launched, or you can give it a fixed integer value for reproducability. Any other string value is an error.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
Solvers</h1>
<p>Solvers support a set of flags which governs how the proof states iterate over their successors. These are represented by the <code>no-repeats</code> and <code>randomised</code> flags. When <code>no-repeats</code> is true, the proof states don't allow successors which have already been seen, where this is possible to implement reasonably. There is of course a tradeoff here, in that this test demands extra checks for each successor, but there will be fewer of them. When <code>randomised</code> is true, the successors are enumerated in an order which is as random as is reasonably possible. This is useful for statistical estimation, which might assume the successors are IID, however this might negatively impact cache behaviour.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
Iterative Deepening Solver</h2>
<p>The iterative deepening solver is specified using the <code>IterativeDeepeningSolver</code> type, and has two parameters <code>max-depth</code> and <code>starting-depth</code> which govern the depth to which it searches to. Here is a partial example of an iterative deepening solver settings file:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot; : &quot;Iterative-Deepening Solver&quot;,</div>
<div class="line">    &quot;desc&quot; : &quot;Your description here.&quot;,</div>
<div class="line">    &quot;solver&quot; : {</div>
<div class="line">        &quot;type&quot; : &quot;IterativeDeepeningSolver&quot;,</div>
<div class="line">        &quot;max-depth&quot; : 5,</div>
<div class="line">        &quot;starting-depth&quot; : 3,</div>
<div class="line">        &quot;no-repeats&quot; : true,</div>
<div class="line">        &quot;randomised&quot; : true</div>
<div class="line">    },</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>In order to create an iterative deepening solver, you must use the type <code>IterativeDeepeningSolver</code>. The new parameters are <code>max-depth</code> and <code>start-depth</code>. The former is the ultimate depth limit imposed on the iterative deepening search, and <code>start-depth</code> is the first depth limit.</p>
<p>Setting the start depth higher means less wasted work for long proofs, but it makes finding short proofs much less efficient than they otherwise would be.</p>
<p>Iterative deepening search will make use of any successor modifiers (e.g. stopping strategies) that are specified in the settings file (see below).</p>
<h1><a class="anchor" id="autotoc_md23"></a>
Heuristics</h1>
<p>As of yet there are no heuristics implemented.</p>
<h1><a class="anchor" id="autotoc_md24"></a>
Stopping Strategies</h1>
<p>Stopping strategies are a class of statistical strategies for using a heuristic function to enumerate through successors. This is useful because there may be a great many successors to a given statement, and it is costly to even generate them all. Hence we may want to generate a few at a time and pick the best.</p>
<p>Stopping strategies only affect the order in which successors are enumerated, and not the results of the iterators. A stopping strategy cannot be successful without a good heuristic, first and foremost.</p>
<h2><a class="anchor" id="autotoc_md25"></a>
Fixed Stopping Strategy</h2>
<p>This is a very elementary stopping strategy. It always keeps <code>N</code> successors in memory at a time, and returns the best one. When it advances, it removes the best one from the list, and obtains the next successor. When there are no successors left, it enumerates the <code>N</code> elements in memory in nonincreasing order.</p>
<p>Here is an example of how to specify it in a search settings file:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot; : &quot;Solver with a Fixed Stopping Strategy&quot;,</div>
<div class="line">    &quot;desc&quot; : &quot;Your description here.&quot;,</div>
<div class="line">    &quot;stopping-strategy&quot; : {</div>
<div class="line">        &quot;type&quot; : &quot;FixedStoppingStrategy&quot;,</div>
<div class="line">        &quot;size&quot; : 5</div>
<div class="line">    },</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md26"></a>
Basic Stopping Strategy</h2>
<p>This stopping strategy is statistical in nature. It models the <em>cost</em> and <em>benefit</em> of each successor as the time it took to compute, and the heuristic value, respectively. It approximates these values with a normal distribution (estimating the parameters from the data seen so far), and computes the probability that one more evaluation would result in a better benefit for a small increase in cost.</p>
<p>More precisely, if <code>X</code> is a normally-distributed random variable representing the cost, <code>Y</code> is a normally-distributed random variable representing the benefit heuristic, <code>s</code> is the sum of the costs of the states held in memory so far, and <code>m</code> is the maximum benefit held in the states in memory at the moment, then we choose to stop evaluating successors when:</p>
<p><code>P ( lambda * (Y - m) &gt; X + s ) &lt; alpha</code></p>
<p>For parameters <code>lambda &gt; 0</code> and <code>alpha \in (0,1)</code>.</p>
<p>Note that, in order to help gather data to estimate the distributions in the early moments of the successor enumeration, this stopping strategy inputs an integer <code>initial-size</code> and it starts by adding in this many successors, regardless to their cost/benefit values. This helps get reliable estimates for the distribution parameters first.</p>
<p>Finally, note that since this is a statistical-based strategy, it will assume the successors are IID, hence it is better to use <code>randomised = true</code> whenever this stopping strategy is used.</p>
<p>Here is an example of how to specify it in a search settings file:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot; : &quot;Solver with a Fixed Stopping Strategy&quot;,</div>
<div class="line">    &quot;desc&quot; : &quot;Your description here.&quot;,</div>
<div class="line">    &quot;stopping-strategy&quot; : {</div>
<div class="line">        &quot;type&quot; : &quot;BasicStoppingStrategy&quot;,</div>
<div class="line">        &quot;initial-size&quot; : 10,</div>
<div class="line">        &quot;lambda&quot; : 10.0,</div>
<div class="line">        &quot;alpha&quot; : 0.05</div>
<div class="line">    },</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
